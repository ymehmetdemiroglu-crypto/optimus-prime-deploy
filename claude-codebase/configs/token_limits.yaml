# Token Limits and Budgets Configuration

# Model token limits
models:
  claude-3-opus-20240229:
    max_context_tokens: 200000
    default_output_tokens: 4096
    cost_per_million_input: 15.00
    cost_per_million_output: 75.00
  
  claude-3-sonnet-20240229:
    max_context_tokens: 200000
    default_output_tokens: 4096
    cost_per_million_input: 3.00
    cost_per_million_output: 15.00
  
  claude-3-haiku-20240307:
    max_context_tokens: 200000
    default_output_tokens: 4096
    cost_per_million_input: 0.25
    cost_per_million_output: 1.25

# Token budgets per operation type
operation_budgets:
  input_processing: 500
  intent_classification: 1000
  context_management: 50000
  response_generation: 8000
  total_per_request: 60000

# Context management settings
context:
  max_tokens: 50000
  window_size: 20  # Keep last N messages in full detail
  summarization_threshold: 40000  # Trigger compression at this level
  auto_compress: true
  importance_threshold: 0.3  # Minimum importance to keep message

# Caching settings
caching:
  enabled: true
  max_cache_size: 1000
  default_ttl_seconds: 3600  # 1 hour
  intent_cache_ttl: 7200  # 2 hours
  response_cache_ttl: 1800  # 30 minutes

# Optimization settings
optimization:
  alert_threshold: 0.8  # Alert when using 80% of budget
  enable_recommendations: true
  track_all_operations: true
